<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>

    <title>회원가입</title>
    <style>
      label {
        display: inline-block;
        width: 100px;
      }
      input {
        width: 200px;
      }
    </style>
  </head>
  <body>
    <h1>회원가입</h1>
    <form method="post" action="/user/signUp">
      <div>
        <label for="name">유저명:</label>
        <input type="text" id="name" name="name" required>
      </div>
      <div>
        <label for="password">비밀번호:</label>
        <input type="password" id="password" name="password" required>
      </div>
      <div>
        <label for="phone">전화번호:</label>
        <input type="tel" id="phone" name="phone">
      </div>
      <div>
        <label for="email">이메일:</label>
        <input type="email" id="email" name="email">
      </div>
      <div>
        <input type="submit" value="가입">
        <input type="reset" value="초기화">
      </div>
      <input type="hidden" name="isClose" th:value="${isClose}">
    </form>
  </body>
  <script th:inline="javascript">
    const error = /*[[${error}]]*/ null;
    if(error) alert(error);
    const success = /*[[${success}]]*/ null;
    if(success) {
      alert(success);
      const isClose = /*[[${isClose}]]*/ false;
      if(isClose) window.close();
      else location.href="/user/loginForm";
    }
  </script>
</html>